'''
File for handling the mapping between market topologies in flow-based and NTC.
Flow-based market tolopogy include some virtual bidding zones due to the advanced hybrid coupling scheme.
On the other hand, NTC market topology includes some virtual bidding zones to handle sum ramping and sum limits.
In addition, there is a discrepancy between the bidding zones in the NTC mnarket topology defined in NorCap and that which is used by NEMOs and on transparency platform.
'''



topology20230511 = {
                "version":"2023-05-11",
                "biddingZones":
                    [
                        {"norCapShortName":"DK1",		"eic":"10YDK-1--------W",	"sawgShortName":"DK1",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"centralEurope",	"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"DK2",		"eic":"10YDK-2--------M",	"sawgShortName":"DK2",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics", 		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"FI",		"eic":"10YFI-1--------U",	"sawgShortName":"FI",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"NO1",		"eic":"10YNO-1--------2",	"sawgShortName":"NO1",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"NO2",		"eic":"10YNO-2--------T",	"sawgShortName":"NO2",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"NO3",		"eic":"10YNO-3--------J",	"sawgShortName":"NO3",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"NO4",		"eic":"10YNO-4--------9",	"sawgShortName":"NO4",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"NO5",		"eic":"10Y1001A1001A48H",	"sawgShortName":"NO5",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"SE1",		"eic":"10Y1001A1001A44P",	"sawgShortName":"SE1",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"SE2",		"eic":"10Y1001A1001A45N",	"sawgShortName":"SE2",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"SE3",		"eic":"10Y1001A1001A46L",	"sawgShortName":"SE3",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"SE4",		"eic":"10Y1001A1001A47J",	"sawgShortName":"SE4",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":True},
                        {"norCapShortName":"DK1_CO",	"eic":"45Y0000000000046",	"sawgShortName":"DK1COA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"centralEurope",	"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"DK1_DE",	"eic":"45Y0000000000054",	"sawgShortName":"DK1DEA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"centralEurope",	"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"DK1_KS",	"eic":"45Y000000000002A",	"sawgShortName":"DK1KSA",	"virtualBZ":True,	"oppositeVBZ":"SE3_KS",		"synchronousArea":"centralEurope",	"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"DK1_SB",	"eic":"45Y0000000000038",	"sawgShortName":"DK1SBA",	"virtualBZ":True,	"oppositeVBZ":"DK2_SB",		"synchronousArea":"centralEurope",	"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"DK1_SK",	"eic":"45Y000000000001C",	"sawgShortName":"DK1SKA",	"virtualBZ":True,	"oppositeVBZ":"NO2_SK",		"synchronousArea":"centralEurope",	"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"DK2_KO",	"eic":"45Y0000000000070",	"sawgShortName":"DK2KOA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"DK2_SB",	"eic":"45Y0000000000062",	"sawgShortName":"DK2SBA",	"virtualBZ":True,	"oppositeVBZ":"DK1_SB",		"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"FI_EL",		"eic":"44Y-00000000161I",	"sawgShortName":"FIELA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"FI_FS",		"eic":"44Y-00000000160K",	"sawgShortName":"FIFSA",	"virtualBZ":True,	"oppositeVBZ":"SE3_FS",		"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"NO2_ND",	"eic":"50Y73EMZ34CQL9AJ",	"sawgShortName":"NO2NDA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"NO2_NK",	"eic":"50YNBFFTWZRAHA3P",	"sawgShortName":"NO2NKA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"NO2_NSL",	"eic":"50Y0JVU59B4JWQCU",	"sawgShortName":"NO2NSLA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":False,	"inNtcTopology":False},
                        {"norCapShortName":"NO2_SK",	"eic":"50YCUY85S1HH29EK",	"sawgShortName":"NO2SKA",	"virtualBZ":True,	"oppositeVBZ":"DK1_SK",		"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"SE3_FS",	"eic":"46Y000000000001Y",	"sawgShortName":"SE3FSA",	"virtualBZ":True,	"oppositeVBZ":"FI_FS",		"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"SE3_KS",	"eic":"46Y000000000002W",	"sawgShortName":"SE3KSA",	"virtualBZ":True,	"oppositeVBZ":"DK1_KS",		"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"SE3_SWL",	"eic":"46Y000000000007M",	"sawgShortName":"SE3SWLA",	"virtualBZ":True,	"oppositeVBZ":"SE4_SWL",	"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"SE4_BC",	"eic":"46Y000000000005Q",	"sawgShortName":"SE4BCA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"SE4_NB",	"eic":"46Y000000000004S",	"sawgShortName":"SE4NBA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"SE4_SP",	"eic":"46Y000000000003U",	"sawgShortName":"SE4SPA",	"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"SE4_SWL",	"eic":"46Y000000000008K",	"sawgShortName":"SE4SWLA",	"virtualBZ":True,	"oppositeVBZ":"SE3_SWL",	"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":True,	"inNtcTopology":False},
                        {"norCapShortName":"DE_LU",		"eic":"10Y1001A1001A82H",	"sawgShortName":"DE_LU",	"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"centralEurope",	"ccr":"core",			"inFbTopology":False,	"inNtcTopology":True},
                        {"norCapShortName":"NL",		"eic":"10YNL----------L",	"sawgShortName":"NL",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"centralEurope",	"ccr":"core",			"inFbTopology":False,	"inNtcTopology":True},
                        {"norCapShortName":"EE",		"eic":"10Y1001A1001A39I",	"sawgShortName":"EE",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"baltics",		"ccr":"baltics",		"inFbTopology":False,	"inNtcTopology":True},
                        {"norCapShortName":"LT",		"eic":"10YLT-1001A0008Q",	"sawgShortName":"LT",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"baltics",		"ccr":"baltics",		"inFbTopology":False,	"inNtcTopology":True},
                        {"norCapShortName":"PL",		"eic":"10YPL-AREA-----S",	"sawgShortName":"PL",		"virtualBZ":False,	"oppositeVBZ":None,			"synchronousArea":"centralEurope",	"ccr":"core",			"inFbTopology":False,	"inNtcTopology":True},
                        {"norCapShortName":"DK1A",		"eic":"10YDK-1-------AA",	"sawgShortName":"DK1A",		"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"centralEurope",	"ccr":"nordics",		"inFbTopology":False,	"inNtcTopology":True},
                        {"norCapShortName":"NO1A",		"eic":"10Y1001A1001A64J",	"sawgShortName":"NO1A",		"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":False,	"inNtcTopology":True},
                        {"norCapShortName":"SE3A",		"eic":"10YSE3A-TEMP--AA",	"sawgShortName":"SE3A",		"virtualBZ":True,	"oppositeVBZ":None,			"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":False,	"inNtcTopology":True},
                        {"norCapShortName":"SE3_ACDC",	"eic":"46Y000000000016L",	"sawgShortName":"SE3_ACDC",	"virtualBZ":True,	"oppositeVBZ":"SE4_ACDC",	"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":False,	"inNtcTopology":False},
                        {"norCapShortName":"SE4_ACDC",	"eic":"46Y000000000015N",	"sawgShortName":"SE4_ACDC",	"virtualBZ":True,	"oppositeVBZ":"SE3_ACDC",	"synchronousArea":"nordics",		"ccr":"nordics",		"inFbTopology":False,	"inNtcTopology":False}
                    ],
                "borders":
                    [
                        {"name":"DK1_CO-DK1",			"from":"DK1_CO",	"to":"DK1",		"oppositeDirection":"DK1-DK1_CO",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":['NL-DK1'],    "mappedFBborder":[]},	
                        {"name":"DK1_DE-DK1",			"from":"DK1_DE",	"to":"DK1",		"oppositeDirection":"DK1-DK1_DE",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":['DE_LU-DK1'],    "mappedFBborder":[]},	
                        {"name":"DK1_KS-DK1",			"from":"DK1_KS",	"to":"DK1",		"oppositeDirection":"DK1-DK1_KS",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['SE3-DK1A'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK1_SB-DK1",			"from":"DK1_SB",	"to":"DK1",		"oppositeDirection":"DK1-DK1_SB",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['DK2-DK1'],          "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK1_SK-DK1",			"from":"DK1_SK",	"to":"DK1",		"oppositeDirection":"DK1-DK1_SK",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":0.029,	"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['NO2-DK1A'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK1A-NO2",				"from":"DK1A",		"to":"NO2",		"oppositeDirection":"NO2-DK1A",				"type":"parent",						"ilf":0.029,	"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO2_SK-NO2" ]},	
                        {"name":"DK1A-SE3",				"from":"DK1A",		"to":"SE3",		"oppositeDirection":"SE3-DK1A",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE3_KS-SE3"]},	
                        {"name":"DK1-DK1_CO",			"from":"DK1",		"to":"DK1_CO",	"oppositeDirection":"DK1_CO-DK1",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK1-DK1_DE",			"from":"DK1",		"to":"DK1_DE",	"oppositeDirection":"DK1_DE-DK1",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK1-DK1_KS",			"from":"DK1",		"to":"DK1_KS",	"oppositeDirection":"DK1_KS-DK1",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['DK1A-SE3'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK1-DK1_SB",			"from":"DK1",		"to":"DK1_SB",	"oppositeDirection":"DK1_SB-DK1",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['DK1-DK2'],          "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK1-DK1_SK",			"from":"DK1",		"to":"DK1_SK",	"oppositeDirection":"DK1_SK-DK1",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":0.029,	"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['DK1A-NO2'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK1-DK2",				"from":"DK1",		"to":"DK2",		"oppositeDirection":"DK2-DK1",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["DK2_SB-DK2"]},	
                        {"name":"DK2_KO-DK2",			"from":"DK2_KO",	"to":"DK2",		"oppositeDirection":"DK2-DK2_KO",			"type":"AcOrDcDifferentCCR",        	"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK2_SB-DK2",			"from":"DK2_SB",	"to":"DK2",		"oppositeDirection":"DK2-DK2_SB",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['DK1-DK2'],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK2-DK1",				"from":"DK2",		"to":"DK1",		"oppositeDirection":"DK1-DK2",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["DK2-DK2_SB"]},	
                        {"name":"DK2-DK2_KO",			"from":"DK2",		"to":"DK2_KO",	"oppositeDirection":"DK2_KO-DK2",			"type":"AcOrDcDifferentCCR",        	"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK2-DK2_SB",			"from":"DK2",		"to":"DK2_SB",	"oppositeDirection":"DK2_SB-DK2",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['DK2-DK1'],          "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"DK2-SE4",				"from":"DK2",		"to":"SE4",		"oppositeDirection":"SE4-DK2",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"FI_EL-FI",				"from":"FI_EL",		"to":"FI",		"oppositeDirection":"FI-FI_EL",				"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"FI_FS-FI",				"from":"FI_FS",		"to":"FI",		"oppositeDirection":"FI-FI_FS",				"type":"HvdcSameAreaNordicCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['SE3-FI'],           "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"FI-FI_EL",				"from":"FI",		"to":"FI_EL",	"oppositeDirection":"FI_EL-FI",				"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"FI-FI_FS",				"from":"FI",		"to":"FI_FS",	"oppositeDirection":"FI_FS-FI",				"type":"HvdcSameAreaNordicCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['FI-SE3'],           "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"FI-NO4",				"from":"FI",		"to":"NO4",		"oppositeDirection":"NO4-FI",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"FI-SE1",				"from":"FI",		"to":"SE1",		"oppositeDirection":"SE1-FI",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"FI-SE3",				"from":"FI",		"to":"SE3",		"oppositeDirection":"SE3-FI",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE3_FS-SE3"]},	
                        {"name":"NO1A-NO2",				"from":"NO1A",		"to":"NO2",		"oppositeDirection":"NO2-NO1A",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO1-NO2"]},	
                        {"name":"NO1A-NO5",				"from":"NO1A",		"to":"NO5",		"oppositeDirection":"NO5-NO1A",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO1-NO5"]},	
                        {"name":"NO1-NO2",				"from":"NO1",		"to":"NO2",		"oppositeDirection":"NO2-NO1",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['NO1A-NO2'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO1-NO3",				"from":"NO1",		"to":"NO3",		"oppositeDirection":"NO3-NO1",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO1-NO5",				"from":"NO1",		"to":"NO5",		"oppositeDirection":"NO5-NO1",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":['NO1A-NO5'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO1-SE3",				"from":"NO1",		"to":"SE3",		"oppositeDirection":"SE3-NO1",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO2_ND-NO2",			"from":"NO2_ND",	"to":"NO2",		"oppositeDirection":"NO2-NO2_ND",			"type":"AcOrDcDifferentCCR",			"ilf":0.032,	"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO2_NK-NO2",			"from":"NO2_NK",	"to":"NO2",		"oppositeDirection":"NO2-NO2_NK",			"type":"AcOrDcDifferentCCR",			"ilf":0.032,	"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO2_SK-NO2",			"from":"NO2_SK",	"to":"NO2",		"oppositeDirection":"NO2-NO2_SK",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":0.029,	"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['DK1A-NO2'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO2-DK1A",				"from":"NO2",		"to":"DK1A",	"oppositeDirection":"DK1A-NO2",				"type":"parent",						"ilf":0.029,	"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["DK1_SK-DK1"]},	
                        {"name":"NO2-NO1",				"from":"NO2",		"to":"NO1",		"oppositeDirection":"NO1-NO2",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['NO2-NO1A'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO2-NO1A",				"from":"NO2",		"to":"NO1A",	"oppositeDirection":"NO1A-NO2",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO2-NO1"]},	
                        {"name":"NO2-NO2_ND",			"from":"NO2",		"to":"NO2_ND",	"oppositeDirection":"NO2_ND-NO2",			"type":"AcOrDcDifferentCCR",			"ilf":0.032,	"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO2-NO2_NK",			"from":"NO2",		"to":"NO2_NK",	"oppositeDirection":"NO2_NK-NO2",			"type":"AcOrDcDifferentCCR",			"ilf":0.032,	"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO2-NO2_SK",			"from":"NO2",		"to":"NO2_SK",	"oppositeDirection":"NO2_SK-NO2",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":0.029,	"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['NO2-DK1A'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO2-NO5",				"from":"NO2",		"to":"NO5",		"oppositeDirection":"NO5-NO2",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO3-NO1",				"from":"NO3",		"to":"NO1",		"oppositeDirection":"NO1-NO3",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO3-NO4",				"from":"NO3",		"to":"NO4",		"oppositeDirection":"NO4-NO3",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO3-NO5",				"from":"NO3",		"to":"NO5",		"oppositeDirection":"NO5-NO3",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO3-SE2",				"from":"NO3",		"to":"SE2",		"oppositeDirection":"SE2-NO3",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO4-FI",				"from":"NO4",		"to":"FI",		"oppositeDirection":"FI-NO4",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO4-NO3",				"from":"NO4",		"to":"NO3",		"oppositeDirection":"NO3-NO4",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO4-SE1",				"from":"NO4",		"to":"SE1",		"oppositeDirection":"SE1-NO4",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO4-SE2",				"from":"NO4",		"to":"SE2",		"oppositeDirection":"SE2-NO4",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO5-NO1",				"from":"NO5",		"to":"NO1",		"oppositeDirection":"NO1-NO5",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO5-NO1A",				"from":"NO5",		"to":"NO1A",	"oppositeDirection":"NO1A-NO5",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO5-NO1"]},	
                        {"name":"NO5-NO2",				"from":"NO5",		"to":"NO2",		"oppositeDirection":"NO2-NO5",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"NO5-NO3",				"from":"NO5",		"to":"NO3",		"oppositeDirection":"NO3-NO5",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE1-FI",				"from":"SE1",		"to":"FI",		"oppositeDirection":"FI-SE1",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE1-NO4",				"from":"SE1",		"to":"NO4",		"oppositeDirection":"NO4-SE1",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE1-SE2",				"from":"SE1",		"to":"SE2",		"oppositeDirection":"SE2-SE1",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE2-NO3",				"from":"SE2",		"to":"NO3",		"oppositeDirection":"NO3-SE2",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE2-NO4",				"from":"SE2",		"to":"NO4",		"oppositeDirection":"NO4-SE2",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE2-SE1",				"from":"SE2",		"to":"SE1",		"oppositeDirection":"SE1-SE2",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE2-SE3",				"from":"SE2",		"to":"SE3",		"oppositeDirection":"SE3-SE2",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3_FS-SE3",			"from":"SE3_FS",	"to":"SE3",		"oppositeDirection":"SE3-SE3_FS",			"type":"HvdcSameAreaNordicCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['FI-SE3'],           "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3_KS-SE3",			"from":"SE3_KS",	"to":"SE3",		"oppositeDirection":"SE3-SE3_KS",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['DK1A-SE3'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3_SWL-SE3",			"from":"SE3_SWL",	"to":"SE3",		"oppositeDirection":"SE3-SE3_SWL",			"type":"HvdcSameAreaNordicCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['SE4_SWL-SE3_SWL'],  "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3-DK1A",				"from":"SE3",		"to":"DK1A",	"oppositeDirection":"DK1A-SE3",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedFBborder":["DK1_KS-DK1"]},	
                        {"name":"SE3-FI",				"from":"SE3",		"to":"FI",		"oppositeDirection":"FI-SE3",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedFBborder":["FI_FS-FI"]},	
                        {"name":"SE3-NO1",				"from":"SE3",		"to":"NO1",		"oppositeDirection":"NO1-SE3",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3-SE2",				"from":"SE3",		"to":"SE2",		"oppositeDirection":"SE2-SE3",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3-SE3_FS",			"from":"SE3",		"to":"SE3_FS",	"oppositeDirection":"SE3_FS-SE3",			"type":"HvdcSameAreaNordicCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['SE3-FI'],           "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3-SE3_KS",			"from":"SE3",		"to":"SE3_KS",	"oppositeDirection":"SE3_KS-SE3",			"type":"HvdcDifferentAreaNordicCCR",	"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['SE3-DK1A'],         "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3-SE3_SWL",			"from":"SE3",		"to":"SE3_SWL",	"oppositeDirection":"SE3_SWL-SE3",			"type":"HvdcSameAreaNordicCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['SE3_SWL-SE4_SWL'],  "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3-SE4",				"from":"SE3",		"to":"SE4",		"oppositeDirection":"SE4-SE3",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE3_SWL-SE4_SWL",		"from":"SE3_SWL",	"to":"SE4_SWL",	"oppositeDirection":"SE4_SWL-SE3_SWL",		"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,   "mappedNTCborder":[],                   "mappedFBborder":["SE4_SWL-SE4"]},	
                        {"name":"SE4_BC-SE4",			"from":"SE4_BC",	"to":"SE4",		"oppositeDirection":"SE4-SE4_BC",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4_NB-SE4",			"from":"SE4_NB",	"to":"SE4",		"oppositeDirection":"SE4-SE4_NB",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4_SP-SE4",			"from":"SE4_SP",	"to":"SE4",		"oppositeDirection":"SE4-SE4_SP",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4_SWL-SE4",			"from":"SE4_SWL",	"to":"SE4",		"oppositeDirection":"SE4-SE4_SWL",			"type":"HvdcSameAreaNordicCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['SE3_SWL-SE4_SWL'],  "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4-DK2",				"from":"SE4",		"to":"DK2",		"oppositeDirection":"DK2-SE4",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4-SE3",				"from":"SE4",		"to":"SE3",		"oppositeDirection":"SE3-SE4",				"type":"AcNordicCCR",					"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4-SE4_BC",			"from":"SE4",		"to":"SE4_BC",	"oppositeDirection":"SE4_BC-SE4",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4-SE4_NB",			"from":"SE4",		"to":"SE4_NB",	"oppositeDirection":"SE4_NB-SE4",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4-SE4_SP",			"from":"SE4",		"to":"SE4_SP",	"oppositeDirection":"SE4_SP-SE4",			"type":"AcOrDcDifferentCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4-SE4_SWL",			"from":"SE4",		"to":"SE4_SWL",	"oppositeDirection":"SE4_SWL-SE4",			"type":"HvdcSameAreaNordicCCR",			"ilf":None,		"inFbTopology":True,	"inNtcTopology":False,	"mappedNTCborder":['SE4_SWL-SE3_SWL'],  "mappedTPborder":[],    "mappedFBborder":[]},	
                        {"name":"SE4_SWL-SE3_SWL",		"from":"SE4_SWL",	"to":"SE3_SWL",	"oppositeDirection":"SE3_SWL-SE4_SWL",		"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":True,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE3_SWL-SE3"]},	
                        {"name":"SE3_ACDC-SE4_ACDC",	"from":"SE3_ACDC",	"to":"SE4_ACDC","oppositeDirection":"SE4_ACDC-SE3_ACDC",	"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE4_SWL-SE4",	 "SE3-SE4"]},	
                        {"name":"SE4_ACDC-SE3_ACDC",	"from":"SE4_ACDC",	"to":"SE3_ACDC","oppositeDirection":"SE3_ACDC-SE4_ACDC",	"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE3_SWL-SE3",	 "SE4-SE3"]},	
                        {"name":"DK1-DK1A",				"from":"DK1",		"to":"DK1A",	"oppositeDirection":"DK1A-DK1",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO2_SK-NO2",	 "SE3_SK-SE3"]},	
                        {"name":"DK1A-DK1",				"from":"DK1A",		"to":"DK1",		"oppositeDirection":"DK1A-DK1",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["DK1_SK-DK1",	 "DK1_KS-DK1"]},	
                        {"name":"NO1-NO1A",				"from":"NO1",		"to":"NO1A",	"oppositeDirection":"NO1A-NO1",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO1-NO2",	 "NO1-NO5"]},	
                        {"name":"NO1A-NO1",				"from":"NO1A",		"to":"NO1",		"oppositeDirection":"NO1-NO1A",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO2-NO1",	 "NO5-NO1"]},	
                        {"name":"DK1-NL",				"from":"DK1",		"to":"NL",		"oppositeDirection":"NL-DK1",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["DK1-DK1_CO"]},	
                        {"name":"DK1-DE_LU",			"from":"DK1",		"to":"DE_LU",	"oppositeDirection":"DE_LU-DK1",			"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["DK1-DK1-DE"]},	
                        {"name":"NL-DK1",				"from":"NL",		"to":"DK1",		"oppositeDirection":"DK1-NL",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["DK1_CO-DK1"]},	
                        {"name":"DE_LU-DK1",			"from":"DE_LU",		"to":"DK1",		"oppositeDirection":"DK1-DE_LU",			"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["DK1_DE-DK1"]},	
                        {"name":"EE-FI",				"from":"EE",		"to":"FI",		"oppositeDirection":"FI-EE",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["FI_EL-FI"]},	
                        {"name":"FI-EE",				"from":"FI",		"to":"EE",		"oppositeDirection":"EE-FI",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["FI-FI_EL"]},	
                        {"name":"NL-NO2",				"from":"NL",		"to":"NO2",		"oppositeDirection":"NO2-NL",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO2_ND-NO2"]},	
                        {"name":"DE_LU-NO2",			"from":"DE_LU",		"to":"NO2",		"oppositeDirection":"NO2-DE_LU",			"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO2_NK-NO2"]},	
                        {"name":"NO2-NL",				"from":"NO2",		"to":"NL",		"oppositeDirection":"NL-NO2",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO2-NO2_ND"]},	
                        {"name":"NO2-DE_LU",			"from":"NO2",		"to":"DE_LU",	"oppositeDirection":"DE_LU-NO2",			"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["NO2-NO2_NK"]},	
                        {"name":"DE_LU-SE4",			"from":"DE_LU",		"to":"SE4",		"oppositeDirection":"SE4-DE_LU",			"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE4_BC-SE4"]},	
                        {"name":"LT-SE4",				"from":"LT",		"to":"SE4",		"oppositeDirection":"SE4-LT",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE4_NB-SE4"]},	
                        {"name":"PL-SE4",				"from":"PL",		"to":"SE4",		"oppositeDirection":"SE4-PL",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE4_SP-SE4"]},	
                        {"name":"SE4-DE_LU",			"from":"SE4",		"to":"DE_LU",	"oppositeDirection":"DE_LU-SE4",			"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE4-SE4_BC"]},	
                        {"name":"SE4-LT",				"from":"SE4",		"to":"LT",		"oppositeDirection":"LT-SE4",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE4-SE4_BC"]},	
                        {"name":"SE4-PL",				"from":"SE4",		"to":"PL",		"oppositeDirection":"PL-SE4",				"type":"parent",						"ilf":None,		"inFbTopology":False,	"inNtcTopology":False,	"mappedNTCborder":[],                   "mappedTPborder":[],    "mappedFBborder":["SE4-SE4_SP"]}
                    ]
            }


latest_topology = topology20230511


def check_topology(top):
    '''
    Validate topology:
    
    bidding zone short name must be unique
    bidding zone eic code must be unique
    a real bidding zone cannot have opposite bidding zone other than None
    
    bidding zone border short name must be unique
    bidding zone border pair of from and to BZ must be unique
    bidding zone border in FB topology cannot have mapped FB boreer other than [] (empty list)
    bidding zone border of type 'parent' must have mappedFBborder euqal to a list of at least one border in FB topology
    
    '''
    print('Checking topology...')
    bz_shortNames = []
    bz_eics = []
    
    # Check uniqueness of bidding zone short name and bidding zone EIC
    
    for bz in top['biddingZones']:
        if not bz['virtualBZ']:
            if not bz['oppositeVBZ']==None:
                print('Warning: ' + bz['norCapShortName'] + ' is not virtual but has an opposite bidding zone defined.')
        bz_shortNames.append(bz['norCapShortName']) 
        bz_eics.append(bz['eic'])
    
    for bz in bz_shortNames:
        if bz_shortNames.count(bz) > 1:
            print("Warning: Bidding zone name: " + bz + "is not unique.")

    for bz in bz_eics:
        if bz_eics.count(bz) > 1:
            print("Warning: Bidding zone EIC: " + bz + "is not unique.")
            
    # Check uniqueness of bidding zone border name and bidding zone border from and to tupple
    bzb_shortnames = []
    bzb_from_to_tupples = []
    for bzb in top['borders']:
        bzb_shortnames.append(bzb['name'])
        bzb_from_to_tupples.append((bzb['from'], bzb['to']))
        
    for bzb_shortname in bzb_shortnames:
        if bzb_shortnames.count(bzb_shortname) > 1:
            print("Warning: border name: " + bzb_shortname + " is not unique.")

    for bzb_from_to_tupple in bzb_from_to_tupples:
        if bzb_from_to_tupples.count(bzb_from_to_tupple) > 1:
            print("Warning: Multiple borders defined from : " + bzb_from_to_tupple[0] + " to " + bzb_from_to_tupple[1])    
    
    
    
    #Todo: implement rest of topology checks.
    
    print('...Done')


if __name__ == '__main__':

    check_topology(latest_topology)